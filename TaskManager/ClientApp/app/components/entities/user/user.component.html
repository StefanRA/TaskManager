<div>
    <h1>Users</h1>

    <p>This component demonstrates fetching data from the server.</p>

    <p *ngIf="!users"><em>Loading...</em></p>

    <button type="button" class="btn btn-default" data-toggle="modal" data-target="#myModal">New user</button>

    <div class="modal fade" id="myModal" role="dialog">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Create a new user</h4>
                </div>
                <form name="createForm" role="form" #createForm="ngForm">
                    <div class="modal-body">
                        <div class="form-group">
                            <label for="field_userName">Name</label>
                            <input type="text" class="form-control" id="field_userName" placeholder="Enter the name of this project" name="userName"
                                   [(ngModel)]="newUser.userName" required />
                        </div>
                        <div class="form-group">
                            <label for="field_email">Email</label>
                            <input type="text" class="form-control" id="field_email" placeholder="Enter the description of this project" name="email"
                                   [(ngModel)]="newUser.email" required />
                        </div>

                    </div>
                    <div class="modal-footer">
                        <button type="submit" [disabled]="createForm.form.invalid" class="btn btn-primary" data-dismiss="modal" (click)="add()">Create</button>
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </form>
            </div>

        </div>
    </div>
    
    <table class='table' *ngIf="users">
        <thead>
            <tr>
                <th>Id</th>
                <th>User Name</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Email</th>
                <th>Operations</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let user of users">
                <td>{{ user.id }}</td>
                <td><a [routerLink]="['../user', user.id ]">{{ user.userName }}</a></td>
                <td>{{ user.firstName }}</td>
                <td>{{ user.lastName }}</td>
                <td>{{ user.email }}</td>
                <td><button (click)="removeUser(user)">Delete</button></td>
            </tr>
        </tbody>
    </table>
</div>